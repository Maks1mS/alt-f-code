--- haveged-1.9.15/src/havegecollect.c-orig	2021-12-28 19:39:13.306508314 +0000
+++ haveged-1.9.15/src/havegecollect.c	2021-12-28 19:27:28.479236743 +0000
@@ -314,6 +314,9 @@
    return LOOP_NEXT;
 }
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wpedantic"
+
 /**
  * The collection loop is constructed by repetitions of oneinteration.h interleaved
  * with control points generated by the LOOP macro.
@@ -335,9 +338,6 @@
    }
 #endif
 
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wpedantic"
-
 loop_enter:
 LOOP(40,39)
    #include "oneiteration.h"
@@ -421,11 +421,11 @@
    #include "oneiteration.h"
 LOOP(0,0)
    (void)havege_cp(h_ctxt, i,0,LOOP_PT(0));
-#pragma GCC diagnostic pop
 
 loop_exit:
    return ANDPT==0? 0 : 1;
 }
+#pragma GCC diagnostic pop
 #ifdef   RAW_IN_ENABLE
 /**
  * Wrapper for noise injector. When input is injected, the hardclock
